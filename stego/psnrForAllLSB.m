function [] = psnrForAllLSB(file, keyword)

		% Get lsb dirs
		lsbdirs = getFileNamesMatching("images/lsb*");

		% Get related images from this dir
		for i = 1:length(lsbdirs)
			lsbdir = lsbdirs(i);
			searchStr = strcat("images/", lsbdir, "/*_", keyword, "_*.png");
			matchingFiles = getFileNamesMatching(searchStr);

			for j = 1:length(matchingFiles)
					stegoFile = strcat("images/", lsbdir, "/", matchingFiles(j));
					appendToCSV(file, stegoFile, calcPSNR(file, stegoFile));
			end
		end

end

function names = getFileNamesMatching(pattern)

		% Get all lsb directories 
		structs = dir(pattern);
		names = strings(length(structs), 1);
		for i = 1:length(structs)
				names(i) = structs(i).name;
		end

end

function [] = appendToCSV(file, stegoFile, psnrVal)
	rowVal = strcat(file, ", ", stegoFile, ", ", num2str(psnrVal));
	disp(rowVal)
	fid = fopen('test.csv', 'a');
	fprintf(fid, '%s\n', rowVal);
	fclose(fid);
end
